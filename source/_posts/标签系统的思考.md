---
layout: title
title: 标签系统的思考
date: 2020-11-01 17:14:09
tags:
---

# 关于理想的整理资源用的标签系统的（~~思考~~）胡思乱想

写完看了一下，写的**乱七八糟**，**想到哪写到哪**，大家随便看看

### 想法一：设计和维护资源的tag是一件非常复杂的事情,不论是业务上，还是从技术上

资源关联的tag首先肯定是不能做成blog里面的那种string[]形式，想象一下某个动漫的tag：`热血/科幻/奇幻/战斗/原创`,这样整理tag是要崩溃的。。

为了引出话题，以对一部漫画增加tag信息的过程作为引子。（音乐，电影都资源可能遇到类似的问题）

下面是《辉夜大小姐想让我告白》这一部漫画的元信息的结构和元信息本身：
```typescript
interface metaInfoInterface = {
  _id : ObjectID,
  漫画名称: string[],
  作者: string[],
  ......
}
```

```typescript
let metaInfo : metaInfoInterface = {
  _id : someObjectID,
  漫画名称: [
    "辉夜大小姐想让我告白",
    "辉夜大小姐想让我告白～天才们的恋爱头脑战～",
    "かぐや様は告らせたい〜天才たちの恋愛頭脳戦〜",
  ],
  作者: ["赤坂明", "赤坂アカ"],
  // 也可以这样标签：赤坂明（赤坂アカ）
}
```

首先，漫画的名称的设置遇到了障碍。

1. 因为这部漫画是日文原作的作品，如果将漫画的名称用单纯的string而不是string[]进行储存，那么就没法很好的将日文名称和中文名称同时储存。有的人说。我不需要保存日文名称，那一部作品如果有2个相似的译名呢。。。tag设计出来，最后的目的，是用来方便日后进行索引。从设计的角度来想，使用者不希望搜一个译名能搜出，另一个搜不出

2. 漫画的名称往往因为翻译的不同，常常会有若干个中文翻译名称。《辉夜大小姐》日文名称还可以分为带副标题和不带副标题。而且以上讨论是不包含国际化的内容，仅仅只是有中日2种名称。如果想让系统做成类似于e站能够国际合作编辑tag，国际化也是少不了的。如果说做成
   
    ```typescript
    原作名称: ["かぐや様は告らせたい〜天才たちの恋愛頭脳戦〜"],
    中文名称: [
        "辉夜大小姐想让我告白",
        "辉夜大小姐想让我告白～天才们的恋爱头脑战～",
    ],
    ```
   那么就相当于在metaInfo中，引入了业务逻辑，同时索引的业务逻辑就要发生变化。系统肯定是不断迭代的，不可能一次性设计完成，这对最初框架的可拓展性和去耦合设计要求较高。

3. 假设场景往前更进一步，某位仓鼠党要把自己的本地漫画文件或者文件夹和这个元信息组合起来，构建一个索引系统，处理就更复杂了。上述的metaInfo是对应某一个单行本呢，还是对应漫画本身为一个整体呢？这个就更和业务逻辑相关了，而且每个人对应自己的需求，想法是不太一致的。

4. 作者也是令人头大的一个选项，漫画的作者还分编剧和作画，可能最好的做法是只能都放到作者这个大类。有的画师除了中日双名，还有同人的社团笔名，加tag时，你是不是在创建所有和他有关的作品的条目时，还得把他的笔名给加上？不然之后按作者名称搜索时，作品展示是不全的

如此可见，每一个字段的设计都和业务需求和逻辑**耦合**，如何设计能使使用者真正的好用，是非常困难的。同时设计不能和业务耦合过重，不然就丧失了一定的通用性。

当然上述可能还是因业务复杂而导致的技术问题为主，比如这些映射关系可能可以使用图数据库进行管理或者弄多张表进行级联操作（这样设计复杂度直线上升...）

如果是一部同人作品，信息会更难以分类和增加tag，比如某个时候你只想看某一个角色的同人作品，那可能只能通过把角色的tag做成一个对象或者做成一张角色表解决
比如：
```js
let characterSchema = {
  officialName: "千斗 いすず",
  avatar: "./img/1030042352.jpg",
  alias: ["せんと", "いすず", "千斗", "五十铃", "千斗 五十铃", "500"],
}
```
搜索角色tag可以展示角色tag的别名和头像

### 想法二：通用共同资源、社区多人协作、规范标准

下述的tag系统是一个关于软件和社区生态的~~幻想~~

1. 通用共同资源：
    - A是收集同人志和漫画的松鼠党，B也是，那么这两个人是能共用一套资源tag系统的。
    - A是收集gal的松鼠党，B也是，这两个人也是能共用一套资源tag系统的。
    - A是收集某个冷门偶像所有的演唱会、录像和fancam的松鼠党，那么估计不太能找到规模相对较大的团体和朋友和他共用一套资源tag系统，因为不满足通用资源或者共同资源的原则。
    - 通用共同性的资源，比如说U2收集动漫，收集音乐，收集gal，收集同人志等等
  
2. 多人协作和规范标准：
    - 多人协作：一个人是整理不过来，不但信息整理不全，而且会慢慢消磨你的热情。以屯gal为例，一般是按发售时间，会社名称和作品名称对文件或者文件夹进行重命名进行分类保存。那么至少来说是丢失了画师，剧本，声优的维度。另外考虑到文件夹的重命名工具，脚本等等，估计是不大让人顺心的，很显然，要长久的运作下去，多人协作是必要的。
    - 规范标准：假设一个中心化的数据储存场景，使用者能定期同步数据储存到本地，并根据自己的需求，去建立条目，然后推送到远程服务端，就能复用信息。这就有点类似百度百科，维基百科，或者bangumi，2dfan那种，大家或者有一定权限的社区成员都能编辑，然后一起看。好处或者不同之处在于：
        1. 可以利用远程的tag系统的作品信息数据和自己本地的资源文件进行匹配，相对自建tag系统，可以说节省了很大的力气
        2. 用户可以根据远程的tag系统的文件信息对比自己的本地文件信息，比如可以根据某个画师进行筛选，发现某个画师出新作品了，自己本地还没有
        3. tag系统应该支持自定义和使用本地化数据，在技术层面上自带一套统一规范，用户可以把自己的tag数据进行相互的导入和分享，可以使用自己的本地数据，也可以使用远程的社区数据源（比较推荐，不然违反了上述的多人协作原则），并且可以更换数据源。
        4. tag系统在业务逻辑层面上的统一规范，包括数据格式，UI交互，能够处理资源整理的常见痛点，比如想法一里面的内容。
        5. 感觉几乎很难实现，比如良好的多人协作的社区运作机制、比如技术上的难点，包括软件和数据库的设计，持续迭代，同步数据库机制、比如文件元信息标准的实现（图书馆、情报与档案管理可是一级学科）
        6. 可以先尝试某特定的一种资源，比如gal或者同人志进行schema设计和整体框架设计


最后是希望大家多给我**泼冷水**，让我意识到自己想的**太简单了**
